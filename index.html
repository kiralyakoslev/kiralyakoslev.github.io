<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Retro Web Terminal</title>
<style>
  :root{
    --bg:#000;
    --text:#00ff55;
    --muted:rgba(0,255,85,0.45);
  }
  html,body{height:100%;margin:0;padding:0;background:var(--bg);color:var(--text);font-family:"Courier New", monospace;}
  .screen{padding:24px;max-width:980px;margin:18px auto;}
  .hidden{display:none;}
  .cursor{display:inline-block;width:12px;animation:blink 0.7s infinite steps(1);}
  @keyframes blink{0%{opacity:1}100%{opacity:0}}
  .terminal-line{margin-bottom:6px;white-space:pre-wrap;font-size:16px}
  h2{margin:0 0 6px 0;font-weight:600}
  p.lead{color:var(--muted);margin-top:6px}
  .menu{margin-top:18px;border-top:1px solid rgba(0,255,85,0.06);padding-top:12px;display:flex;gap:12px;flex-wrap:wrap}
  .btn{padding:6px 10px;border-radius:6px;background:rgba(0,255,85,0.06);color:var(--text);text-decoration:none;border:1px solid rgba(0,255,85,0.06);font-size:14px}
  .panel{background:rgba(0,0,0,0.35);padding:14px;border-radius:8px;margin-top:12px}
  @media(max-width:560px){.screen{padding:12px}}
</style>
</head>
<body>

<!-- BOOT képernyő -->
<div id="boot-screen" class="screen">
  <div class="terminal-line">PhoenixBIOS 4.0 Release 6.0</div>
  <div class="terminal-line">Copyright 1985-1998 Phoenix Technologies Ltd.</div>
  <div class="terminal-line">CPU: RetroCore 133MHz Detected</div>
  <div class="terminal-line">Checking Memory...</div>
  <div class="terminal-line">640K OK</div>
  <div class="terminal-line">Initializing retro web kernel...</div>
  <div class="terminal-line">Loading interface modules...</div>
  <div class="terminal-line" id="boot-progress">BOOTING SYSTEM... [0%]</div>
</div>

<!-- FŐ képernyő -->
<div id="main-screen" class="screen hidden">
  <h2>&gt; Welcome to Retro Web Terminal <span class="cursor">█</span></h2>
  <p class="lead">~ logged in as: guest</p>

  <div class="panel">
    <p>Ez egy retro tech projekt.</p>
    <div class="menu">
      <a class="btn" href="#home" onclick="navigate(event,'home')">Home</a>
      <a class="btn" href="#projects" onclick="navigate(event,'projects')">Time</a>
      <a class="btn" href="#log" onclick="navigate(event,'log')">BTC-USD</a>
      <a class="btn" href="#downloads" onclick="navigate(event,'downloads')">Settings</a>
    </div>
  </div>

  <div id="content" class="panel" style="min-height:220px;margin-bottom:6px">
    <div id="home" class="page">
      <h3>Főoldal</h3>
      <p class="lead">Ez most egy retro terminál demo.</p>
      <pre>
  .------------------.
 /  RetroTerminal OS  \
|  _________________  |
| | > _             | |
| |                 | |
| |                 | |
| |_________________| |
 \___________________/
      |         |
     [===========]
      \_________/
      </pre>
    </div>

<div id="projects" class="page hidden">
      <h3>Fejlesztés alatt</h3>
</div>



    <div id="log" class="page hidden">
      <h3>Bitcoin árfolyam</h3>
      <p id="btc-price">Betöltés...</p>

<pre>
        ###########
     ####         ####
   ###               ###
  ##    ##########     ##
 ##    ##        ##     ##
##     ##        ##      ##
##     ##########        ##
##     ##        ##      ##
 ##    ##        ##     ##
  ##    ##########     ##
   ###               ###
     ####         ####
        ###########
</pre>

      <p style="color:var(--muted);font-size:12px;margin-top:8px">Adatforrás: CoinGecko API</p>
</div>


    <div id="downloads" class="page hidden">
  <h3>Settings</h3>

  <p>Language</p>

  <p>Sound: <span id="sound-status">ON</span></p>
  <button id="sound-toggle" class="btn">Toggle Sound</button>
</div>


  <footer style="color:var(--muted);font-size:13px">
    © 2025 — Retro Web Terminal — Készítette: Király Ákos
  </footer>
</div>

<!-- MP3 kattintás hang -->
<audio id="click-sound" src="click.mp3"></audio>

<script>
  let soundEnabled = localStorage.getItem("soundEnabled") !== "false";

document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("sound-status").textContent = soundEnabled ? "ON" : "OFF";
});

document.getElementById("sound-toggle").addEventListener("click", () => {
  soundEnabled = !soundEnabled;
  localStorage.setItem("soundEnabled", soundEnabled);
  document.getElementById("sound-status").textContent = soundEnabled ? "ON" : "OFF";
});

/* BOOT animáció */
let progress = 0;
function bootTick(){
  progress += Math.floor(Math.random()*12)+4;
  if(progress>100) progress = 100;
  document.getElementById("boot-progress").textContent = `BOOTING SYSTEM... [${progress}%]`;

  if(progress<100){
    setTimeout(bootTick,200);
  } else {
    setTimeout(()=>{
      document.getElementById("boot-screen").classList.add("hidden");
      document.getElementById("main-screen").classList.remove("hidden");
    },600);
  }
}

  // Bitcoin ár lekérése (CoinGecko API — CORS barát)
  async function loadBTC(){
    try{
      // CoinGecko egyszerű végpont: lekérdezi a bitcoin árát USD-ben
      const r = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd");
      if(!r.ok) throw new Error("HTTP " + r.status);
      const d = await r.json();
      const price = d.bitcoin && d.bitcoin.usd;
      if(typeof price !== "number") throw new Error("Nincs adat");
      // formázott kiírás ezres tagolással
      const formatted = price.toLocaleString('en-US', {minimumFractionDigits:2, maximumFractionDigits:2});
      document.getElementById("btc-price").textContent = `1 BTC = $${formatted} USD`;
    }catch(e){
      console.error("BTC load error:", e);
      document.getElementById("btc-price").textContent = "Hiba az ár lekérésekor.";
    }
  }

bootTick();

/* Menü + hang */
function navigate(e,pageId){
  e.preventDefault();

  // MP3 lejátszás
  const snd = document.getElementById("click-sound");
 if(soundEnabled){
  snd.currentTime = 0;
  snd.volume = 1.0;
  snd.play().catch(()=>{});
}


  document.querySelectorAll(".page").forEach(p=>p.classList.add("hidden"));
  document.getElementById(pageId).classList.remove("hidden");
  if(pageId === "log") loadBTC();
  history.replaceState(null,null,"#"+pageId);
}
</script>
</body>
</html>
